

<script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>

<div class="sidebar">
	<div class="scrollbar-inner sidebar-wrapper">

		<script type="text/javascript">
			$(document).ready(() => {
				var connection = new signalR.HubConnectionBuilder().withUrl("https://localhost:7210/SignalRHub").build();

				$("#connstatus").text(connection.state);


				connection.start().then(() => {
					$("#connstatus").text(connection.state);

					setInterval(() => {
						connection.invoke("SendStatistic");
						connection.invoke("SendBookingList");
						//metota istekte bulundum
					}, 1000);

					

				}).catch((err) => { console.log(err) });




				//istekte bulunduktan sonra connection.on ilie metotun içindeki key'e istekte bulunuyorum
				connection.on("ReceiveCategoryCount", (value) => {
					$("#categorycount").text(value);
				});
				
				connection.on("ReceiveProductCount", (value) => {
					$("#productcount").text(value);
				});
				
				connection.on("ReceiveBookingListCount", (value) => {
					$("#bookingcount").text(value);
				});
			})
		</script>
		<div class="user">
			<div class="photo">
				<img src="~/Ready-Bootstrap-Dashboard-master/assets/img/profile.jpg">
			</div>
			<div class="info">
				<a class="" data-toggle="collapse" href="#collapseExample" aria-expanded="true">
					<span>
						Signalr Yönetim Paneli
						<span class="user-level">Admin</span>
						<span class="caret"></span>
					</span>
				</a>
				<div class="clearfix"></div>

				<div class="collapse in" id="collapseExample" aria-expanded="true" style="">
					<ul class="nav">
						<li>
							<a href="#profile">
								<span class="link-collapse">Menüyü Gör</span>
							</a>
						</li>
						<li>
							<a href="#edit">
								<span class="link-collapse">Şifre Güncelle</span>
							</a>
						</li>
						<li>
							<a href="#settings">
								<span class="link-collapse">Ayarlar</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<ul class="nav">
			<li class="nav-item">
				<a href="index.html">
					<i class="la la-dashboard"></i>
					<p>Dashboard</p>
					<span class="badge badge-count">5</span>
				</a>
			</li>
			<li class="nav-item">
				<a href="components.html">
					<i class="la la-table"></i>
					<p>Menüyü Gör</p>
					<span class="badge badge-count">14</span>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Category/Index">
					<i class="la la-keyboard-o"></i>
					<p>Kategoriler</p>
					@* <span class="badge badge-count">@TempData["categoryCount"]</span> *@
					<span class="badge badge-count" id="categorycount"></span>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Product/Index/">
					<i class="la la-birthday-cake"></i>
					<p>Ürünler</p>
					<span class="badge badge-count" id="productcount"></span>
					@* <span class="badge badge-count">@TempData["ProductCount"]</span> *@
				</a>
			</li>
			<li class="nav-item">
				<a href="/Booking/Index/">
					<i class="la la-bell"></i>
					<p>Rezervasyonlar</p>
					<span class="badge badge-count" id="bookingcount"></span>
				</a>
			</li>
			@* <li class="nav-item">
				<a href="/About/Index/">
					<i class="la la-font"></i>
					<p>Hakkımızda</p>
					<span class="badge badge-danger">25</span>
				</a>
			</li>
			<li class="nav-item">
				<a href="icons.html">
					<i class="la la-fonticons"></i>
					<p>Mesajlar</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Discount/Index/">
					<i class="la la-fonticons"></i>
					<p>İndirimler</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Feature/Index/">
					<i class="la la-fonticons"></i>
					<p>Öne Çıkanlar</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="/SocialMedia/Index/">
					<i class="la la-fonticons"></i>
					<p>Sosyal Medya</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="/Testimonial/Index/">
					<i class="la la-fonticons"></i>
					<p>İstatistikler</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="icons.html">
					<i class="la la-fonticons"></i>
					<p>Ayarlar</p>
				</a>
			</li>
			<li class="nav-item">
				<a href="icons.html">
					<i class="la la-fonticons"></i>
					<p>Çıkış Yap</p>
				</a>
			</li> *@
		</ul>
	</div>
</div>